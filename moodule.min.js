!function(e){this.moodule=e(),this.define=this.moodule.define,this.require=this.moodule.require}(function(){function e(e,r,n){if(void 0==n&&(n=r,r=[]),!i(e))throw new Error("moodule says the module '"+e+"' is not a string.");if(s(a,e))throw new Error("moodule says the module '"+e+"' is already defined.");if(!u(r))throw new Error("moodle says the dependencies must be an array.");if(!d(n)&&!o(n))throw new Error("moodle says the module definition must be an object or function.");a[e]={dependencies:r,fn:o(n)?n:function(){return n}}}function r(e){return n(e,[])}function n(e,r){if(s(c,e))return c[e];var t=a[e];if(r.push(e),!t)throw new Error("moodule says the module '"+e+"' is not defined.");for(var o=[],i=0;i<t.dependencies.length;i++){var u=t.dependencies[i];if(!s(c,u)&&s(r,u))throw new Error("moodule says circular dependencies are bad.");var d=n(t.dependencies[i],r);o.push(d)}var f=t.fn.apply(void 0,o);return c[e]=f,delete a[e],f}function t(){c={},a={}}function o(e){return f(e,"Function")}function i(e){return f(e,"String")}function u(e){return f(e,"Array")}function d(e){return f(e,"Object")}function f(e,r){return Object.prototype.toString.call(e)==="[object "+r+"]"}function s(e,r){if(d(e))return e?Object.prototype.hasOwnProperty.call(e,r):!1;if(u(e))for(var n=0;n<e.length;n++)if(e[n]===r)return!0;return!1}var c={},a={};return{define:e,require:r,clear:t}});