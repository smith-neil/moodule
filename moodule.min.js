!function(e){this.moodule=e()}(function(){function e(e,n,r){if(void 0==r&&(r=n,n=[]),!i(e))throw new Error("moodule says the module '"+e+"' is not a string.");if(c(s,e))throw new Error("moodule says the module '"+e+"' is already defined.");if(!u(n))throw new Error("moodle says the dependencies must be an array.");if(!d(r)&&!o(r))throw new Error("moodle says the module definition must be an object or function.");s[e]={dependencies:n,fn:o(r)?r:function(){return r}}}function n(e){return r(e,[])}function r(e,n){if(c(a,e))return a[e];var t=s[e];if(n.push(e),!t)throw new Error("moodule says the module '"+e+"' is not defined.");for(var o=[],i=0;i<t.dependencies.length;i++){var u=t.dependencies[i];if(!c(a,u)&&c(n,u))throw new Error("moodule says circular dependencies are bad.");var d=r(t.dependencies[i],n);o.push(d)}var f=t.fn.apply(void 0,o);return a[e]=f,delete s[e],f}function t(){a={},s={}}function o(e){return f(e,"Function")}function i(e){return f(e,"String")}function u(e){return f(e,"Array")}function d(e){return f(e,"Object")}function f(e,n){return Object.prototype.toString.call(e)==="[object "+n+"]"}function c(e,n){if(d(e))return e?Object.prototype.hasOwnProperty.call(e,n):!1;if(u(e))for(var r=0;r<e.length;r++)if(e[r]===n)return!0;return!1}var a={},s={};return{define:e,require:n,clear:t}});